\hypertarget{mato__net_8h}{}\doxysection{mato\+\_\+net.\+h File Reference}
\label{mato__net_8h}\index{mato\_net.h@{mato\_net.h}}
{\ttfamily \#include $<$sys/socket.\+h$>$}\newline
{\ttfamily \#include $<$sys/select.\+h$>$}\newline
{\ttfamily \#include $<$netinet/in.\+h$>$}\newline
{\ttfamily \#include $<$arpa/inet.\+h$>$}\newline
{\ttfamily \#include \char`\"{}mato\+\_\+core.\+h\char`\"{}}\newline
Include dependency graph for mato\+\_\+net.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{mato__net_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{mato__net_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{mato__net_8h_a5c48bcef78712c109e5a5cba7fdbd9bf}\label{mato__net_8h_a5c48bcef78712c109e5a5cba7fdbd9bf}} 
\#define {\bfseries M\+A\+X\+\_\+\+P\+E\+N\+D\+I\+N\+G\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+NS}~10
\item 
\mbox{\Hypertarget{mato__net_8h_a0e3a7df94130de2dacc9b60df772627c}\label{mato__net_8h_a0e3a7df94130de2dacc9b60df772627c}} 
\#define {\bfseries M\+S\+G\+\_\+\+N\+E\+W\+\_\+\+M\+O\+D\+U\+L\+E\+\_\+\+I\+N\+S\+T\+A\+N\+CE}~1
\item 
\mbox{\Hypertarget{mato__net_8h_a177f9c05035981b72ff09e2310b1388d}\label{mato__net_8h_a177f9c05035981b72ff09e2310b1388d}} 
\#define {\bfseries M\+S\+G\+\_\+\+D\+E\+L\+E\+T\+E\+D\+\_\+\+M\+O\+D\+U\+L\+E\+\_\+\+I\+N\+S\+T\+A\+N\+CE}~2
\item 
\mbox{\Hypertarget{mato__net_8h_af2027af6d3e42f33980d6db493fbb3a4}\label{mato__net_8h_af2027af6d3e42f33980d6db493fbb3a4}} 
\#define {\bfseries M\+S\+G\+\_\+\+S\+U\+B\+S\+C\+R\+I\+BE}~3
\item 
\mbox{\Hypertarget{mato__net_8h_a3ff1a26d41593641354b921302350d68}\label{mato__net_8h_a3ff1a26d41593641354b921302350d68}} 
\#define {\bfseries M\+S\+G\+\_\+\+U\+N\+S\+U\+B\+S\+C\+R\+I\+BE}~4
\item 
\mbox{\Hypertarget{mato__net_8h_a57594e74f6296fcda847e25fc7810603}\label{mato__net_8h_a57594e74f6296fcda847e25fc7810603}} 
\#define {\bfseries M\+S\+G\+\_\+\+G\+E\+T\+\_\+\+D\+A\+TA}~5
\item 
\mbox{\Hypertarget{mato__net_8h_ac319d4cc777b829878d4012f076ad5fa}\label{mato__net_8h_ac319d4cc777b829878d4012f076ad5fa}} 
\#define {\bfseries M\+S\+G\+\_\+\+D\+A\+TA}~6
\item 
\mbox{\Hypertarget{mato__net_8h_ac0f7dba19b63a99a5a7391ba234ccc7f}\label{mato__net_8h_ac0f7dba19b63a99a5a7391ba234ccc7f}} 
\#define {\bfseries M\+S\+G\+\_\+\+S\+U\+B\+S\+C\+R\+I\+B\+E\+D\+\_\+\+D\+A\+TA}~7
\item 
\mbox{\Hypertarget{mato__net_8h_aacd704c39679de7ea563044ffed64794}\label{mato__net_8h_aacd704c39679de7ea563044ffed64794}} 
\#define {\bfseries M\+S\+G\+\_\+\+G\+L\+O\+B\+A\+L\+\_\+\+M\+E\+S\+S\+A\+GE}~8
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{mato__net_8h_ab35f20c061ec4486e782b89c3c1a4884}\label{mato__net_8h_ab35f20c061ec4486e782b89c3c1a4884}} 
void \mbox{\hyperlink{mato__net_8h_ab35f20c061ec4486e782b89c3c1a4884}{net\+\_\+mato\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initialize data structures maintained by the networking. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mato__net_8h_aef72140c8f7454f33e028ea9e8e50ce8}\label{mato__net_8h_aef72140c8f7454f33e028ea9e8e50ce8}} 
void \mbox{\hyperlink{mato__net_8h_aef72140c8f7454f33e028ea9e8e50ce8}{net\+\_\+mato\+\_\+shutdown}} ()
\begin{DoxyCompactList}\small\item\em Close and release resources used by the networking. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mato__net_8h_a073d05e5bf9e0ffebb49c0251d250c0f}\label{mato__net_8h_a073d05e5bf9e0ffebb49c0251d250c0f}} 
void \mbox{\hyperlink{mato__net_8h_a073d05e5bf9e0ffebb49c0251d250c0f}{start\+\_\+networking}} ()
\begin{DoxyCompactList}\small\item\em Create listening socket for other nodes, start reconnecting and communication threads. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mato__net_8h_a89b6e0a431131bbd10afb037237fc9d5}{net\+\_\+announce\+\_\+new\+\_\+module}} (int module\+\_\+id)
\begin{DoxyCompactList}\small\item\em Broadcast information about new local module instance to all other nodes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mato__net_8h_a6f5e0a1a54d499b01ed57c8d0ffddeb0}{net\+\_\+send\+\_\+subscribed\+\_\+data}} (int subscribed\+\_\+node\+\_\+id, \mbox{\hyperlink{structchannel__data}{channel\+\_\+data}} $\ast$cd)
\begin{DoxyCompactList}\small\item\em Send a new message posted by our local module to another node that is subscribed to that channel. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mato__net_8h_ad33f0d39a802c383a33e794724495b81}{net\+\_\+send\+\_\+data}} (int node\+\_\+id, int get\+\_\+data\+\_\+id, uint8\+\_\+t $\ast$data, int32\+\_\+t data\+\_\+length)
\begin{DoxyCompactList}\small\item\em Send data that were requested by M\+S\+G\+\_\+\+G\+E\+T\+\_\+\+D\+A\+TA message to the node that requested. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{mato__net_8h_ae4829c6e194570023c226f85d8e74486}{net\+\_\+send\+\_\+get\+\_\+data}} (int node\+\_\+id, int module\+\_\+id, int channel, int get\+\_\+data\+\_\+id)
\begin{DoxyCompactList}\small\item\em Request data from a channel of a module on a different node. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mato__net_8h_affc613d7e6afcf44c6f079084a991b33}\label{mato__net_8h_affc613d7e6afcf44c6f079084a991b33}} 
void \mbox{\hyperlink{mato__net_8h_affc613d7e6afcf44c6f079084a991b33}{net\+\_\+delete\+\_\+module\+\_\+instance}} (int node\+\_\+id, int module\+\_\+id)
\begin{DoxyCompactList}\small\item\em Soon to be updated... \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{mato__net_8h_aeed909953e337ee4b9dc137a8263685f}\label{mato__net_8h_aeed909953e337ee4b9dc137a8263685f}} 
int32\+\_\+t \mbox{\hyperlink{mato__net_8h_aeed909953e337ee4b9dc137a8263685f}{this\+\_\+node\+\_\+id}}
\begin{DoxyCompactList}\small\item\em Id of this computational node. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{mato__net_8h_aeda73a8fe41e64b74dd570e4ff50963f}\label{mato__net_8h_aeda73a8fe41e64b74dd570e4ff50963f}} 
G\+Array $\ast$ \mbox{\hyperlink{mato__net_8h_aeda73a8fe41e64b74dd570e4ff50963f}{nodes}}
\begin{DoxyCompactList}\small\item\em Contains node info for all computational nodes filled from config file in mato\+\_\+init. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Mato control framework -\/ internal networking definitions. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mato__net_8h_a89b6e0a431131bbd10afb037237fc9d5}\label{mato__net_8h_a89b6e0a431131bbd10afb037237fc9d5}} 
\index{mato\_net.h@{mato\_net.h}!net\_announce\_new\_module@{net\_announce\_new\_module}}
\index{net\_announce\_new\_module@{net\_announce\_new\_module}!mato\_net.h@{mato\_net.h}}
\doxysubsubsection{\texorpdfstring{net\_announce\_new\_module()}{net\_announce\_new\_module()}}
{\footnotesize\ttfamily void net\+\_\+announce\+\_\+new\+\_\+module (\begin{DoxyParamCaption}\item[{int}]{module\+\_\+id }\end{DoxyParamCaption})}



Broadcast information about new local module instance to all other nodes. 


\begin{DoxyCode}{0}
\DoxyCodeLine{Packet format:}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{MSG\_NEW\_MODULE\_INSTANCE   int32}
\DoxyCodeLine{sending\_node\_id           int32}
\DoxyCodeLine{[local]module\_id          int32}
\DoxyCodeLine{len(module\_name)+1        int32}
\DoxyCodeLine{module\_name               variable}
\DoxyCodeLine{len(module\_type)+1        int32}
\DoxyCodeLine{module\_type               variable}
\DoxyCodeLine{number\_of\_channels        int32}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\end{DoxyCode}
 \mbox{\Hypertarget{mato__net_8h_ad33f0d39a802c383a33e794724495b81}\label{mato__net_8h_ad33f0d39a802c383a33e794724495b81}} 
\index{mato\_net.h@{mato\_net.h}!net\_send\_data@{net\_send\_data}}
\index{net\_send\_data@{net\_send\_data}!mato\_net.h@{mato\_net.h}}
\doxysubsubsection{\texorpdfstring{net\_send\_data()}{net\_send\_data()}}
{\footnotesize\ttfamily void net\+\_\+send\+\_\+data (\begin{DoxyParamCaption}\item[{int}]{node\+\_\+id,  }\item[{int}]{get\+\_\+data\+\_\+id,  }\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{int32\+\_\+t}]{data\+\_\+length }\end{DoxyParamCaption})}



Send data that were requested by M\+S\+G\+\_\+\+G\+E\+T\+\_\+\+D\+A\+TA message to the node that requested. 


\begin{DoxyCode}{0}
\DoxyCodeLine{Packet format:}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{MSG\_DATA                  int32}
\DoxyCodeLine{sending\_node\_id           int32}
\DoxyCodeLine{get\_data\_id               int32}
\DoxyCodeLine{len(data)                 int32}
\DoxyCodeLine{data                      variable}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\end{DoxyCode}
 \mbox{\Hypertarget{mato__net_8h_ae4829c6e194570023c226f85d8e74486}\label{mato__net_8h_ae4829c6e194570023c226f85d8e74486}} 
\index{mato\_net.h@{mato\_net.h}!net\_send\_get\_data@{net\_send\_get\_data}}
\index{net\_send\_get\_data@{net\_send\_get\_data}!mato\_net.h@{mato\_net.h}}
\doxysubsubsection{\texorpdfstring{net\_send\_get\_data()}{net\_send\_get\_data()}}
{\footnotesize\ttfamily void net\+\_\+send\+\_\+get\+\_\+data (\begin{DoxyParamCaption}\item[{int}]{node\+\_\+id,  }\item[{int}]{module\+\_\+id,  }\item[{int}]{channel,  }\item[{int}]{get\+\_\+data\+\_\+id }\end{DoxyParamCaption})}



Request data from a channel of a module on a different node. 


\begin{DoxyCode}{0}
\DoxyCodeLine{Packet format:}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{MSG\_DATA                  int32}
\DoxyCodeLine{sending\_node\_id           int32}
\DoxyCodeLine{get\_data\_id               int32}
\DoxyCodeLine{len(data)                 int32}
\DoxyCodeLine{data                      variable}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\end{DoxyCode}
 \mbox{\Hypertarget{mato__net_8h_a6f5e0a1a54d499b01ed57c8d0ffddeb0}\label{mato__net_8h_a6f5e0a1a54d499b01ed57c8d0ffddeb0}} 
\index{mato\_net.h@{mato\_net.h}!net\_send\_subscribed\_data@{net\_send\_subscribed\_data}}
\index{net\_send\_subscribed\_data@{net\_send\_subscribed\_data}!mato\_net.h@{mato\_net.h}}
\doxysubsubsection{\texorpdfstring{net\_send\_subscribed\_data()}{net\_send\_subscribed\_data()}}
{\footnotesize\ttfamily void net\+\_\+send\+\_\+subscribed\+\_\+data (\begin{DoxyParamCaption}\item[{int}]{subscribed\+\_\+node\+\_\+id,  }\item[{\mbox{\hyperlink{structchannel__data}{channel\+\_\+data}} $\ast$}]{cd }\end{DoxyParamCaption})}



Send a new message posted by our local module to another node that is subscribed to that channel. 


\begin{DoxyCode}{0}
\DoxyCodeLine{Packet format:}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\DoxyCodeLine{MSG\_SUBSCRIBED\_DATA       int32}
\DoxyCodeLine{sending\_node\_id           int32}
\DoxyCodeLine{module\_id                 int32}
\DoxyCodeLine{channel                   int32}
\DoxyCodeLine{length                    int32}
\DoxyCodeLine{data                      variable}
\DoxyCodeLine{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}
\end{DoxyCode}
 